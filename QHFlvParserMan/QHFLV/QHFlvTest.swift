//
//  QHFlvTest.swift
//  QHFlvParserMan
//
//  Created by Anakin chen on 2018/7/15.
//  Copyright © 2018年 Chen Network Technology. All rights reserved.
//

import Foundation

/*
 参考：
 [FFmpeg从入门到出家（FLV文件结构解析） - 简书](https://www.jianshu.com/p/d68d6efe8230)
 */

/*
 464c 5601 0500 0000 09                         h
 00 0000 00               preSize
 12 0001        s-h
 2500 0000 0000 0000
 0200 0a6f 6e4d 6574        s-b
 6144 6174 6108 0000 000d 0008 6475 7261
 7469 6f6e 0040 4055 3f7c ed91 6800 0577
 6964 7468 0040 8400 0000 0000 0000 0668
 6569 6768 7400 407e 0000 0000 0000 000d
 7669 6465 6f64 6174 6172 6174 6500 407e
 8480 0000 0000 0009 6672 616d 6572 6174
 6500 402e 0000 0000 0000 000c 7669 6465
 6f63 6f64 6563 6964 0040 1c00 0000 0000
 0000 0d61 7564 696f 6461 7461 7261 7465
 0040 4770 0000 0000 0000 0f61 7564 696f
 7361 6d70 6c65 7261 7465 0040 e588 8000
 0000 0000 0f61 7564 696f 7361 6d70 6c65
 7369 7a65 0040 3000 0000 0000 0000 0673
 7465 7265 6f01 0100 0c61 7564 696f 636f
 6465 6369 6400 4024 0000 0000 0000 0007
 656e 636f 6465 7202 000d 4c61 7666 3538
 2e31 322e 3130 3000 0866 696c 6573 697a
 6500 4141 53e3 0000 0000 0000 09
 00 0001        preSize
 30
 09 0000 2c00 0000 0000 0000                  v-h
 1700 0000        v-b
 0001 6400 16ff e100 1867 6400 16ac d900
 a03d a100 0003 0001 0000 0300 1e0f 162d
 9601 0004 68ea 8f2c
 0000 0037                  preSize
 0800 0007        a-h
 0000 0000 0000 00
 af 0013 9056 e5a0             a-b
 0000        preSize
 0012
 0900 7f3a 0000 0000 0000 0017 0100
 00c8 0000 7f31 6588 8200 3af1 4e17 b184
 5cdf e07b 1538 7fcf 312c 93ae 7f25 acf9
 b59e 36e1 72cd 11fe 80a8 5575 5c79 b8d5
 7f50 c795 c3b6 9da7 d118 c593 14e1 5037
 cdef f5f0 01d2 3d45 b1e8 cdec eb8b f760
 */

// script data
/*
 02 -- String
 00 0a -- length
 6f 6e4d 6574 6144 6174 61 -- (onMetaData)
 
 08 -- ECMA array数组类型
 0000 000d -- 数组长度 13 个
 
 0008 -- key length
 6475 7261 7469 6f6e -- duration
 00 -- double(8 betys) value length
 40 4055 3f7c ed91 68 -- 32.666 s
 
 00 05
 77 6964 7468 -- width
 00
 40 8400 0000 0000 00 -- 640
 
 00 06
 68 6569 6768 74 -- height
 00
 407e 0000 0000 0000 -- 480
 
 000d
 7669 6465 6f64 6174 6172 6174 65 -- videodatarate
 00
 407e 8480 0000 0000 -- 488.28125
 
 0009
 6672 616d 6572 6174 65
 00
 402e 0000 0000 0000
 
 000c
 7669 6465 6f63 6f64 6563 6964
 00
 40 1c00 0000 0000 00
 
 00 0d
 61 7564 696f 6461 7461 7261 7465
 00
 40 4770 0000 0000 00
 
 00 0f
 61 7564 696f 7361 6d70 6c65 7261 7465
 00
 40 e588 8000 0000 00
 
 00 0f
 61 7564 696f 7361 6d70 6c65 7369 7a65
 00
 40 3000 0000 0000 00
 
 00 06
 73 7465 7265 6f
 01 -- boolean
 01
 
 00 0c
 61 7564 696f 636f 6465 6369 64
 00
 4024 0000 0000 0000
 
 0007
 656e 636f 6465 72
 02 -- String
 000d -- length
 4c61 7666 3538 2e31 322e 3130 30
 
 00 08
 66 696c 6573 697a 65
 00
 4141 53e3 0000 0000
 
 0000 09 -- 数组结束位
 */

/*
 onMetaData = { ["audiosamplerate": 44100.0, "stereo": "YES", "framerate": 15.0, "width": 640.0, "videocodecid": 7.0, "encoder": "Lavf58.12.100", "audiosamplesize": 16.0, "height": 480.0, "audiocodecid": 10.0, "audiodatarate": 46.875, "duration": 32.665999999999997, "videodatarate": 488.28125, "filesize": 2271174.0] }
 */
